<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>FreeFlow</title>
<style>
  :root{
    --btn-size: 112px;            /* rozmiar „guzika” z logo */
    --shadow: 0 12px 26px rgba(0,0,0,.35);
    --glow1: 0 0 18px rgba(255,155,0,.45);
    --glow2: 0 0 32px rgba(0,200,255,.25);
  }

  html,body{height:100%}
  body{
    margin:0; overflow:hidden;
    background: #0b0f14 url("./Background.png") center/cover no-repeat fixed;
    font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  }

  /* warstwa na ewentualne treści */
  .content{
    position:relative; z-index:1;
    min-height:100%; display:flex; align-items:center; justify-content:center;
    padding:24px;
  }

  /* DOKOWANY PRZYCISK Z LOGO */
  .mic-wrap{
    position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
    z-index:9;
    width:var(--btn-size); height:var(--btn-size);
    border-radius:999px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(4px);
    display:grid; place-items:center;
    pointer-events:auto;
  }
  .mic-btn{
    position:relative;
    width:100%; height:100%;
    border:none; outline:0; background:transparent; padding:0; margin:0;
    cursor:pointer;
  }
  .mic-btn img{
    width:100%; height:100%; object-fit:contain; display:block;
    /* PNG MUSI BYĆ Z PRZEZROCZYSTYM TŁEM */
    filter: drop-shadow(var(--glow1)) drop-shadow(var(--glow2));
    transform-origin:center;
    animation: idle-pulse 2400ms ease-in-out infinite;
  }

  /* „fala” feedback po tapnięciu */
  .ripple{
    position:absolute; inset:0; border-radius:50%; pointer-events:none;
    border:2px solid rgba(255,200,120,.28);
    transform:scale(.6); opacity:0;
  }
  .ripple.show{
    animation: ripple 800ms ease-out forwards;
  }

  /* animacje */
  @keyframes idle-pulse {
    0%   { transform:scale(1);   filter: drop-shadow(var(--glow1)) drop-shadow(var(--glow2)); }
    50%  { transform:scale(1.04); filter: drop-shadow(0 0 26px rgba(255,180,60,.55)) drop-shadow(0 0 42px rgba(0,210,255,.35)); }
    100% { transform:scale(1);   filter: drop-shadow(var(--glow1)) drop-shadow(var(--glow2)); }
  }
  @keyframes ripple{
    0%   { opacity:.0; transform:scale(.6); }
    10%  { opacity:.9; }
    100% { opacity:0; transform:scale(1.35); }
  }

  /* baner „intro” (opcjonalnie): logo w centrum po wejściu */
  .intro{
    position:fixed; inset:0; display:grid; place-items:center;
    background: radial-gradient(80% 60% at 50% 30%, rgba(0,0,0,.45), rgba(0,0,0,.0));
    z-index:2; pointer-events:none;
    animation: intro-fade 1100ms ease-out 1 forwards;
  }
  .intro img{
    width:min(58vw, 360px);
    filter: drop-shadow(var(--glow1)) drop-shadow(var(--glow2));
    animation: intro-pop 900ms cubic-bezier(.2,.9,.2,1) 1 both;
  }
  @keyframes intro-pop{
    0%{ transform: translateY(-16px) scale(.92); opacity:0; }
    55%{ transform: translateY(0) scale(1.04); opacity:1; }
    100%{ transform: translateY(0) scale(1); opacity:1; }
  }
  @keyframes intro-fade{
    0%{ opacity:1 }
    100%{ opacity:0 }
  }

  /* Mobile tweaks */
  @media (max-width: 520px){
    :root{ --btn-size: 96px; }
  }
</style>
</head>
<body>

  <!-- OPCJONALNY lekki „hero” na starcie – sam zgaśnie -->
  <div class="intro" aria-hidden="true">
    <img src="./Freeflow-logo.png" alt="" />
  </div>

  <!-- Twoje właściwe treści (placeholder) -->
  <main class="content" role="main" aria-label="FreeFlow">
    <!-- tu może zostać cała funkcjonalność z obecnej strony -->
  </main>

  <!-- Dokowany przycisk: LOGO jako click-to-voice -->
  <div class="mic-wrap">
    <button class="mic-btn" id="micBtn" aria-label="Mów do FreeFlow" title="Mów do FreeFlow">
      <span class="ripple" id="micRipple"></span>
      <img src="./Freeflow-logo.png" alt="FreeFlow Logo">
    </button>
  </div>

<script>
  // 1) Animacja rippla + mały feedback skali
  const micBtn = document.getElementById('micBtn');
  const ripple = document.getElementById('micRipple');

  function clickFX(){
    ripple.classList.remove('show'); // restart animacji
    void ripple.offsetWidth;
    ripple.classList.add('show');

    micBtn.style.transform = 'scale(.97)';
    setTimeout(()=> micBtn.style.transform = 'scale(1)', 120);
  }

  // 2) Integracja z Twoją logiką: najpierw lekkie FX, potem wywołanie
  function triggerVoice(){
    // FX
    clickFX();
    // Twoja właściwa akcja:
    // a) jeśli masz globalną funkcję:
    try { window.startVoice && window.startVoice(); } catch(e){}
    // b) albo nasłuchuj tego CustomEvent w swoim JS:
    try {
      window.dispatchEvent(new CustomEvent('freeflow:mic:toggle', { detail:{ source:'logo-button' } }));
    } catch(e){}
  }

  micBtn.addEventListener('click', triggerVoice);

  // Opcjonalne: klawisz Enter/Space dla dostępności (button robi to natywnie)
  // — nic nie trzeba dopisywać.

  // Uwaga: jeżeli obrazek Freeflow-logo.png ma białe tło,
  // zobaczysz „kartkę”. Użyj wersji PNG z kanałem ALPHA (przezroczystość).
</script>
</body>
</html>
