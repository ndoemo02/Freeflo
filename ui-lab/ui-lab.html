<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FreeFlow ‚Ä¢ UI-Lab (click-to-voice)</title>
<style>
  :root{
    --btn: 88px;     /* ≈õrednica docelowego guzika */
    --logo: 360px;   /* wielko≈õƒá logo na starcie */
  }

  html,body{height:100%}
  body{
    margin:0;
    background: #0b0f14 url('Background.png?v=3') center/cover no-repeat fixed;
    overflow:hidden;
    font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  }

  .stage{ position:relative; width:100%; height:100%; }

  /* kontener, w kt√≥rym startuje logo (≈õrodek ekranu) */
  .logo-wrap{
    position:absolute; inset:0;
    display:flex; align-items:center; justify-content:center;
    pointer-events:none;
  }
  .logo{
    width:var(--logo);
    aspect-ratio: 1/1.05;
    background:url('Freeflow-logo.png?v=3') center/contain no-repeat;
    filter: drop-shadow(0 14px 30px rgba(0,0,0,.45));
    will-change: transform, opacity;
    opacity:0;                 /* poka≈ºemy po preloaderze */
    transform: scale(.92);
  }

  /* miejsce docelowe guzika */
  .cta{
    position:absolute; left:50%; bottom:18px; transform:translateX(-50%);
    width:var(--btn); height:var(--btn);
    border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    background: radial-gradient(circle at 32% 32%, #ffd68a, #ff9a2d 62%, #ff7a00 100%);
    border:2px solid rgba(255,255,255,.1);
    box-shadow: 0 12px 28px rgba(0,0,0,.45), inset 0 -10px 18px rgba(0,0,0,.25);
    color:#0e1013; font-weight:700;
    cursor:pointer; outline:none;
    z-index:3;
  }

  /* pulsujƒÖce halo pod przyciskiem */
  .halo{
    position:absolute; left:50%; bottom:18px; transform:translateX(-50%);
    width:var(--btn); height:var(--btn);
    border-radius:50%; pointer-events:none; z-index:2;
  }
  .halo::before{
    content:""; position:absolute; inset:0; border-radius:50%;
    box-shadow: 0 0 0 0 rgba(255,156,28,.35);
    animation: halo 1600ms ease-out infinite;
  }

  /* przycisk powt√≥rki */
  .replay{
    position:fixed; right:12px; bottom:12px; z-index:4;
    padding:10px 14px; border-radius:12px;
    background: rgba(0,0,0,.45); color:#e9eef6;
    border:1px solid rgba(255,255,255,.14);
    backdrop-filter: blur(6px);
    cursor:pointer; font-weight:600;
  }

  @keyframes halo{
    0%  { box-shadow: 0 0 0 0 rgba(255,156,28,.35); opacity:.9; }
    70% { box-shadow: 0 0 0 28px rgba(255,156,28,0); opacity:0; }
    100%{ box-shadow: 0 0 0 0 rgba(255,156,28,0); opacity:0; }
  }

  @media (max-width:520px){
    :root{ --btn: 78px; --logo: 320px; }
  }
</style>
</head>
<body>

<div class="stage" id="stage">
  <div class="logo-wrap"><div class="logo" id="logo"></div></div>
  <div class="halo"></div>
  <button class="cta" id="ctaBtn" aria-label="Click to voice">‚óè</button>
</div>

<button class="replay" id="replayBtn">‚ñ∂Ô∏é Odtw√≥rz ponownie</button>

<script>
  // Pliki w ROOT ‚Äì zadbaj o nazwy dok≈Çadnie jak poni≈ºej:
  const BG_FILE   = 'Background.png';
  const LOGO_FILE = 'Freeflow-logo.png'; // <- TU musi byƒá Twoja kropla

  const logoEl   = document.getElementById('logo');
  const ctaEl    = document.getElementById('ctaBtn');
  const replayEl = document.getElementById('replayBtn');

  // preloader obraz√≥w, aby animacja startowa≈Ça sp√≥jnie
  function preload(src){
    return new Promise((res, rej)=>{
      const i = new Image();
      i.onload = ()=>res(src);
      i.onerror = rej;
      i.src = src + '?v=3';
    });
  }

  function animateLogo(){
    // poka≈º logo i ustaw je w centrum (tam ju≈º jest CSS)
    logoEl.style.opacity = '1';
    logoEl.style.transform = 'scale(1)';

    // policz wektory: ≈õrodek logo -> ≈õrodek przycisku
    const logoBox = logoEl.getBoundingClientRect();
    const ctaBox  = ctaEl.getBoundingClientRect();

    const logoCx = logoBox.left + logoBox.width/2;
    const logoCy = logoBox.top  + logoBox.height/2;
    const ctaCx  = ctaBox.left  + ctaBox.width/2;
    const ctaCy  = ctaBox.top   + ctaBox.height/2;

    const dx = ctaCx - logoCx;
    const dy = ctaCy - logoCy;

    // skala docelowa: dopasuj szeroko≈õƒá logo do guzika
    const scale = ctaBox.width / logoBox.width;

    // najpierw subtelny fade-in+pop
    logoEl.animate(
      [{opacity:0, transform:'scale(0.92)'},{opacity:1, transform:'scale(1)'}],
      {duration:600, easing:'cubic-bezier(.2,.8,.2,1)'}
    );

    // potem lot do przycisku i zmiana skali
    logoEl.animate(
      [
        { transform: `translate(0px,0px) scale(1)` },
        { transform: `translate(${dx}px, ${dy}px) scale(${scale})` }
      ],
      { duration: 950, delay: 160, easing: 'cubic-bezier(.2,.8,.25,1)', fill: 'forwards' }
    );
  }

  function restart(){
    // wyczy≈õƒá inline transform (zostawimy Web Animations ≈ºeby "forwards" zniknƒô≈Ço)
    logoEl.getAnimations().forEach(a => a.cancel());
    // zresetuj pozycjƒô startowƒÖ
    logoEl.style.opacity = '0';
    logoEl.style.transform = 'scale(.92)';
    // ma≈Çy timeout na reflow
    setTimeout(animateLogo, 40);
  }

  replayEl.addEventListener('click', restart);
  ctaEl.addEventListener('click', ()=>alert('Tu pod≈ÇƒÖczymy Click-to-Voice üîä'));

  // start po pre≈Çadowaniu obraz√≥w
  Promise.all([preload(BG_FILE), preload(LOGO_FILE)]).then(restart);
  // awaryjnie ‚Äì gdyby service worker/cache zwleka≈Ç
  window.addEventListener('load', () => setTimeout(restart, 400));
</script>

</body>
</html>
