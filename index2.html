<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FreeFlow ‚Äî tryb testowy</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Pasek u g√≥ry -->
  <header class="topbar">
    <div class="brand">FreeFlow</div>
    <nav class="top-actions">
      <button class="icon-btn" aria-label="Menu" onclick="toggleMenu()">
        ‚ò∞
      </button>
      <button class="icon-btn" aria-label="Koszyk" onclick="openCart()">
        üõí <span class="badge" id="cartCount">0</span>
      </button>
    </nav>
  </header>

  <!-- Menu rozwijane -->
  <div class="dropdown" id="mainMenu">
    <button onclick="selectPay('blik')">P≈Çatno≈õƒá: BLIK</button>
    <button onclick="selectPay('card')">P≈Çatno≈õƒá: Karta</button>
    <button onclick="selectPay('cash')">P≈Çatno≈õƒá: Got√≥wka</button>
  </div>

  <!-- Logo jako ‚Äûkropla‚Äù + animacja + filtr usuwajƒÖcy czarne t≈Ço -->
  <div class="logo-wrap" onclick="logoClick()">
    <svg class="logo-svg" viewBox="0 0 768 1152" aria-label="FreeFlow logo">
      <defs>
        <!-- Filtr: czarne/ciemne piksele -> przezroczysto≈õƒá -->
        <filter id="removeBlack" color-interpolation-filters="sRGB">
          <!-- wyciƒÖgamy luminancjƒô -->
          <feColorMatrix type="matrix" values="
            0.2126 0.7152 0.0722 0 0
            0.2126 0.7152 0.0722 0 0
            0.2126 0.7152 0.0722 0 0
            0       0       0       1 0" result="lum"/>
          <!-- z luminancji robimy alfƒô -->
          <feComponentTransfer in="lum" result="a">
            <!-- poni≈ºej prog=0.18 ustaw alfa~0, powy≈ºej ro≈õnie -->
            <feFuncR type="identity"/>
            <feFuncG type="identity"/>
            <feFuncB type="identity"/>
            <feFuncA type="linear" slope="5" intercept="-0.9"/>
          </feComponentTransfer>
          <!-- ≈ÇƒÖczymy kolor oryginalny z wyliczonƒÖ alfƒÖ -->
          <feComposite operator="in" in="SourceGraphic" in2="a"/>
        </filter>

        <!-- subtelna po≈õwiata neonowa przy klikniƒôciu -->
        <filter id="glow">
          <feGaussianBlur stdDeviation="6" result="b"/>
          <feMerge>
            <feMergeNode in="b"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>

      <!-- Obraz z repo (raw) -->
      <image
        href="https://raw.githubusercontent.com/ndoemo02/Freeflo/main/Freeflow-logo.png"
        x="0" y="0" width="768" height="1152"
        preserveAspectRatio="xMidYMid meet"
        filter="url(#removeBlack)"/>
    </svg>
  </div>

  <!-- Przyciski dolne -->
  <div class="bottom-bar">
    <button class="pill" onclick="choose('food')">üçΩÔ∏è Jedzenie</button>
    <button class="pill" onclick="choose('taxi')">üöï Taxi</button>
    <button class="pill" onclick="choose('hotel')">üè® Hotel</button>
  </div>

  <script>
    let cart = 0;

    function logoClick() {
      const wrap = document.querySelector('.logo-wrap');
      wrap.classList.add('clicked');
      setTimeout(() => wrap.classList.remove('clicked'), 500);
      // Tu podpinamy Voice start/stop:
      // startVoiceRecording();
    }

    function toggleMenu() {
      const m = document.getElementById('mainMenu');
      m.classList.toggle('open');
    }

    function openCart() {
      alert('Koszyk otwarty (demo). Tu poka≈ºesz zawarto≈õƒá i checkout.');
    }

    function selectPay(type) {
      alert(`Wybrano metodƒô p≈Çatno≈õci: ${type.toUpperCase()}`);
      toggleMenu();
    }

    function choose(kind) {
      const map = { food: 'Jedzenie', taxi: 'Taxi', hotel: 'Hotel' };
      cart += 1;
      document.getElementById('cartCount').textContent = cart;
      alert(`Wybrano: ${map[kind]} (demo). Dodano do koszyka.`);
    }
  </script>
</body>
</html>
